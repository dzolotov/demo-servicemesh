# Таймкоды демонстрации Service Mesh

## Часть 1: Введение и подготовка окружения

### 00:00 - Обзор архитектуры приложения
- Представление микросервисов e-commerce
- Схема взаимодействия компонентов
- Требования к инфраструктуре

### 05:00 - Подготовка Kubernetes кластера
- Запуск Minikube
- Настройка ресурсов
- Проверка готовности кластера

### 08:00 - Локальное тестирование
- Docker Compose развертывание
- Проверка работоспособности сервисов
- Базовые HTTP запросы

## Часть 2: Istio Service Mesh

### 12:00 - Установка Istio
- Загрузка и установка istioctl
- Развертывание control plane
- Установка дополнений (Kiali, Grafana)

### 18:00 - Развертывание приложения с Istio
- Включение автоматического внедрения sidecar
- Применение манифестов Kubernetes
- Проверка внедрения прокси

### 23:00 - Настройка входного трафика
- Создание Gateway
- Конфигурация VirtualService
- Тестирование маршрутизации

### 28:00 - Политики безопасности
- Включение mTLS
- Настройка PeerAuthentication
- Конфигурация AuthorizationPolicy

### 35:00 - Демонстрация RBAC
- Запрет всего трафика по умолчанию
- Постепенное открытие доступа
- Тестирование политик

### 42:00 - Наблюдаемость в Istio
- Обзор Kiali dashboard
- Визуализация service mesh
- Анализ метрик в Grafana

### 48:00 - Управление трафиком
- Канареечные развертывания
- A/B тестирование
- Circuit breaker паттерны

## Часть 3: Linkerd Service Mesh

### 55:00 - Установка Linkerd
- Установка CLI
- Развертывание control plane
- Проверка компонентов

### 60:00 - Внедрение Linkerd в приложение
- Аннотации для автоматического внедрения
- Применение Service Profiles
- Проверка data plane

### 65:00 - Linkerd Dashboard
- Обзор интерфейса
- Золотые метрики
- Топология сервисов

### 70:00 - Политики безопасности Linkerd
- Server и ServerAuthorization
- Настройка mTLS
- Тестирование изоляции

### 75:00 - Расширенные возможности
- Traffic Split для канареечных релизов
- Retry и Timeout политики
- Rate limiting

## Часть 4: Сравнение и тестирование

### 80:00 - Chaos Engineering
- Внедрение сбоев
- Тестирование устойчивости
- Анализ поведения

### 85:00 - Нагрузочное тестирование
- Генерация трафика
- Сравнение производительности
- Анализ overhead прокси

### 90:00 - Сравнение Istio vs Linkerd
- Потребление ресурсов
- Простота использования
- Функциональные возможности

### 95:00 - Лучшие практики
- Рекомендации по выбору
- Паттерны внедрения
- Типичные проблемы и решения

## Часть 5: Продвинутые сценарии

### 100:00 - Multi-cluster развертывание
- Федерация сервисов
- Cross-cluster коммуникация
- Глобальная балансировка

### 105:00 - Интеграция с CI/CD
- Автоматизация развертывания
- Progressive delivery
- Rollback стратегии

### 110:00 - Мониторинг и алертинг
- Настройка Prometheus правил
- Интеграция с внешними системами
- SLO/SLI метрики

### 115:00 - Troubleshooting
- Отладка сетевых проблем
- Анализ производительности
- Диагностика ошибок

### 120:00 - Заключение
- Итоги демонстрации
- Ответы на вопросы
- Дополнительные ресурсы

## Дополнительные материалы

### Полезные команды для воспроизведения:

**Быстрый запуск Istio демо:**
```bash
minikube start --memory=8192 --cpus=4
./deploy-istio.sh
./test-demo.sh
```

**Быстрый запуск Linkerd демо:**
```bash
minikube start --memory=8192 --cpus=4
./deploy-linkerd.sh
./quick-test.sh
```

**Мониторинг в реальном времени:**
```bash
# Istio
watch -n 2 kubectl get pods -n e-commerce
istioctl proxy-config cluster deployment/gateway -n e-commerce

# Linkerd
linkerd viz stat deployment -n e-commerce
linkerd viz tap deployment/gateway -n e-commerce
```

**Очистка после демонстрации:**
```bash
./uninstall-istio.sh
./uninstall-linkerd.sh
minikube delete
```